<table mat-table [dataSource]="resultadoBusquedaEvolucion" class="mat-elevation-z8">
    <!-- Columna de ejemplo -->
    <ng-container matColumnDef="IDEVOLUCION">
        <th mat-header-cell *matHeaderCellDef>
            <div class="divContenedorDeBotones">
                <div style="display: flex; justify-content: center; align-items: center; position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.5);" *ngIf="isloading">
                    <mat-spinner></mat-spinner>
                </div>
                <div>
                    <h1 class="tituloEvolucion">Evolución</h1>
                </div>
                <div>
                    <button class="BotonGuardar" mat-raised-button color="primary" [routerLink]="'/agregar-evolucion'" [disabled]="!botonAgregarEvolucionHabilitado" (click)="actualizarDeDondeSeAgregaEvolucion()">Agregar Evolucion</button>
                    <button class="BotonGuardar" mat-raised-button color="primary" [routerLink]="'/rips'" [disabled]="!botonAgregarRipsHabilitado">Agregar Rips</button>
                </div>
            </div>
        </th>
        <td mat-cell *matCellDef="let evolucionPaciente">
            <br>
            <form class="formularioEvolucion" [formGroup]="formularioEvolucion">
                <div class="scrollable-content">
                    <div class="divFormularioFila1">
                        <mat-form-field appearance="fill" class="campoFila1">
                            <mat-label>Fecha</mat-label>
                            <input matInput readonly [value]="evolucionPaciente.evolucion.FECHA | date:'dd-MM-yyyy'" placeholder="Fecha">
                        </mat-form-field>
                        <mat-form-field appearance="fill" class="campoFila1">
                            <mat-label>Hora de entrada</mat-label>
                            <input matInput readonly value="{{evolucionPaciente.evolucion.HORA}}" placeholder="Hora Entrada">
                        </mat-form-field>
                        <mat-form-field appearance="fill" class="campoFila1">
                            <mat-label>Hora de salida</mat-label>
                            <input matInput readonly value="{{evolucionPaciente.evolucion.HORA_FIN}}" placeholder="Hora Salida">
                        </mat-form-field>
                        <mat-form-field appearance="fill" class="campoFila1">
                            <mat-label>Atendido por</mat-label>
                            <input matInput readonly value="{{evolucionPaciente.evolucion.DOCTOR}}" placeholder="Atendido Por">
                        </mat-form-field>
                        <mat-form-field appearance="fill" class="campoFila1">
                            <mat-label>Nota</mat-label>
                            <input matInput readonly value="{{evolucionPaciente.evolucion.NOTA}}" placeholder="Nota">
                        </mat-form-field>
                    </div>

                    <div class="divFormularioFila2">
                        <mat-form-field appearance="fill" class="campoFila2">
                            <mat-label>Evolución</mat-label>
                            <textarea matInput readonly matTextareaAutosize matAutosizeMinRows="8" matAutosizeMaxRows="10" [value]="evolucionPaciente.evolucion.EVOLUCION" placeholder="Evolución"></textarea>
                        </mat-form-field>
                    </div>

                    <div class="divFormularioFila3">
                        <mat-form-field appearance="fill" class="campoFila3">
                            <mat-label>Próxima Cita</mat-label>
                            <textarea matInput readonly matTextareaAutosize matAutosizeMinRows="3" matAutosizeMaxRows="6" [value]="evolucionPaciente.evolucion.PROXIMA_CITAstr" placeholder="Próxima Cita"></textarea>
                        </mat-form-field>
                    </div>

                    <div class="divFormularioFila4">
                        <div>
                            <img *ngIf="evolucionPaciente.imgFirmaPaciente" [src]="evolucionPaciente.imgFirmaPaciente" alt="Firma Paciente">
                        </div>
                        <div>
                            <img *ngIf="evolucionPaciente.imgFirmaDoctor" [src]="evolucionPaciente.imgFirmaDoctor" alt="Firma Doctor">
                        </div>
                    </div>
                    
                    <div class="divFormularioFila4">
                        <div>
                            <strong class="strongPaciente" *ngIf="evolucionPaciente.imgFirmaPaciente">Firma del paciente</strong>
                        </div>
                        <div>
                            <strong class="strongDoctor" *ngIf="evolucionPaciente.imgFirmaDoctor">Firma del doctor</strong>
                        </div>
                    </div>
                </div>
            </form>
            <br>
        </td>
    </ng-container>

    <!-- Encabezado de la tabla y filas de la tabla -->
    <tr mat-header-row *matHeaderRowDef="columnasMostradas"></tr>
    <tr mat-row *matRowDef="let row; columns: columnasMostradas;"></tr>
</table>
