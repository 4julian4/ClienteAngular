<!-- src/app/conexiones/rydent/modelos/notas/resumen-nota-dialog/resumen-nota-dialog.component.html -->
<h2 mat-dialog-title class="title">
  <span>Resumen {{ data.tipo }} #{{ data.numero }}</span>

  <button
    mat-icon-button
    class="btn-close"
    (click)="cerrar(false)"
    aria-label="Cerrar"
  >
    <mat-icon>close</mat-icon>
  </button>
</h2>

<mat-dialog-content class="content">
  <div class="kpis">
    <div
      class="kpi"
      [class.ok]="data.response?.success"
      [class.fail]="!data.response?.success"
    >
      <div class="kpi__title">Resultado</div>
      <div class="kpi__value">
        {{ data.response?.success ? "Éxito" : "Error" }}
      </div>
    </div>

    <div class="kpi">
      <div class="kpi__title">UUID</div>
      <div class="kpi__value mono">{{ data.response?.uuid || "-" }}</div>
    </div>

    <div class="kpi">
      <div class="kpi__title">CUFE</div>
      <div class="kpi__value mono">{{ data.response?.cufe || "-" }}</div>
    </div>
  </div>

  <div class="msg">
    <div class="label">Mensaje</div>
    <div class="value">{{ data.response?.message || "-" }}</div>
  </div>

  <div class="msg" *ngIf="data.response?.dianStatus">
    <div class="label">Estado DIAN</div>
    <div class="value">{{ data.response?.dianStatus }}</div>
  </div>

  <!-- (Opcional) si quieres ocultar PDF/XML cuando vienen vacíos -->
  <div class="grid2" *ngIf="data.response?.pdfUrl || data.response?.xmlUrl">
    <div *ngIf="data.response?.pdfUrl">
      <div class="label">PDF URL</div>
      <div class="value wrap mono">{{ data.response?.pdfUrl }}</div>
    </div>
    <div *ngIf="data.response?.xmlUrl">
      <div class="label">XML URL</div>
      <div class="value wrap mono">{{ data.response?.xmlUrl }}</div>
    </div>
  </div>

  <div class="errors" *ngIf="data.response?.errors?.length">
    <div class="label">Errores</div>
    <ul>
      <li *ngFor="let e of data.response.errors">
        <span class="mono">{{ e.field }}</span
        >: {{ e.error }}
      </li>
    </ul>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end" class="acciones">
  <button mat-flat-button color="primary" (click)="ok()">OK</button>
</mat-dialog-actions>
